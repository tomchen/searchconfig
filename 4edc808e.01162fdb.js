(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{102:function(e,n,t){"use strict";var a=t(0),r=t(103);n.a=function(){var e=Object(a.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},103:function(e,n,t){"use strict";var a=t(0),r=Object(a.createContext)(void 0);n.a=r},93:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return d})),t.d(n,"metadata",(function(){return y})),t.d(n,"toc",(function(){return j})),t.d(n,"default",(function(){return h}));var a=t(3),r=t(7),o=t(0),c=t.n(o),i=t(94),l=t(102),s=t(96),p=t(79),u=t.n(p),f=37,m=39;var b=function(e){var n=e.lazy,t=e.block,a=e.defaultValue,r=e.values,i=e.groupId,p=e.className,b=Object(l.a)(),g=b.tabGroupChoices,d=b.setTabGroupChoices,y=Object(o.useState)(a),j=y[0],O=y[1],h=o.Children.toArray(e.children);if(null!=i){var v=g[i];null!=v&&v!==j&&r.some((function(e){return e.value===v}))&&O(v)}var k=function(e){O(e),null!=i&&d(i,e)},w=[];return c.a.createElement("div",null,c.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(s.a)("tabs",{"tabs--block":t},p)},r.map((function(e){var n=e.value,t=e.label;return c.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":j===n,className:Object(s.a)("tabs__item",u.a.tabItem,{"tabs__item--active":j===n}),key:n,ref:function(e){return w.push(e)},onKeyDown:function(e){!function(e,n,t){switch(t.keyCode){case m:!function(e,n){var t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()}(e,n);break;case f:!function(e,n){var t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()}(e,n)}}(w,e.target,e)},onFocus:function(){return k(n)},onClick:function(){k(n)}},t)}))),n?Object(o.cloneElement)(h.filter((function(e){return e.props.value===j}))[0],{className:"margin-vert--md"}):c.a.createElement("div",{className:"margin-vert--md"},h.map((function(e,n){return Object(o.cloneElement)(e,{key:n,hidden:e.props.value!==j})}))))};var g=function(e){var n=e.children,t=e.hidden,r=e.className;return c.a.createElement("div",Object(a.a)({role:"tabpanel"},{hidden:t,className:r}),n)},d={id:"index",title:"Get & Merge Config",sidebar_label:"Introduction",slug:"/"},y={unversionedId:"index",id:"index",isDocsHomePage:!1,title:"Get & Merge Config",description:"TypeScript (JavaScript) package to get and merge configuration, made for Node.js and Deno.",source:"@site/docs/index.mdx",slug:"/",permalink:"/",editUrl:"https://github.com/tomchen/searchconfig/edit/main/docs/docs/index.mdx",version:"current",sidebar_label:"Introduction",sidebar:"sidebar",next:{title:"searchconfig",permalink:"/api"}},j=[],O={toc:j};function h(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},O,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"TypeScript (JavaScript) package to get and merge configuration, made for Node.js and Deno."),Object(i.b)("p",null,"A lightweight alternative to cosmiconfig, it is easy to use, fully customizable and predictable, and has clear error types that are simple to handle."),Object(i.b)("p",null,"For now it's an alpha release and I'll improve the documentation. But it should be usable and there is auto-generated API doc you can read."),Object(i.b)(b,{defaultValue:"npm",groupId:"npm2yarn",values:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],mdxType:"Tabs"},Object(i.b)(g,{value:"npm",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"npm install searchconfig\n"))),Object(i.b)(g,{value:"yarn",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"yarn add searchconfig\n")))),Object(i.b)("p",null,"Basic Usage:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import { getConfig } from 'searchconfig'\nconst stra = defaultConfigGetStrategy('packagename')(async () => {\n  const config = await getConfig(stra)\n})()\n")),Object(i.b)("p",null,"With YAML:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import { getConfig, registry } from 'searchconfig'\nimport * as yaml from 'yaml'\n\nregistry.addLoader('yaml', yaml.parse)\nconst stra = defaultConfigGetStrategy('packagename', {\n  hasYaml: true,\n})(async () => {\n  const config = await getConfig(stra)\n})()\n")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"stra")," variable, which represents a default config get strategy, looks like this (the previous one take precedence over the next ones):"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"[\n  {\n    filename: [\n      'package.json',\n      '.packagenamerc',\n      '.packagenamerc.json',\n      '.packagenamerc.yaml',\n      '.packagenamerc.yml',\n      '.packagenamerc.js',\n      '.packagenamerc.mjs',\n      '.packagenamerc.cjs',\n      'packagename.config.json',\n      'packagename.config.yaml',\n      'packagename.config.yml',\n      'packagename.config.js',\n      'packagename.config.mjs',\n      'packagename.config.cjs',\n    ],\n    loader: [null, 'jsonoryaml'], // only set 'jsonoryaml' for the second item which is '.packagenamerc'\n    key: ['packagename'], // only set object key 'jsonoryaml' for the first item which is 'package.json'\n  },\n]\n")),Object(i.b)("p",null,"Use ",Object(i.b)("inlineCode",{parentName:"p"},"mergeConfig()"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import { mergeConfig } from 'searchconfig'\n\nconst configMergeStrategy = {\n  option_one: [\n    ['cliopt', 'option1'],\n    ['conf', 'opta'],\n    ['default', 'option-1'],\n  ],\n  option_two: [\n    ['conf', 'optb'],\n    ['cliopt', 'option2'],\n    ['default', 'option-2'],\n  ],\n  option_three: [\n    ['default', 'option-3'],\n    ['cliopt', 'option3'],\n    ['conf', 'optc'],\n  ],\n}\n\nconst configs = {\n  conf: {\n    'opta': 1,\n    'optb': 'blue',\n    'optc': 'dog',\n  },\n  default: {\n    'option-1': 2,\n    'option-2': 'yellow',\n    'option-3': '',\n  },\n  cliopt: {\n    'option1': 0,\n    'option2': 'red',\n    'option3': 'cat',\n  },\n}\n\nconst config = mergeConfig(configs, configMergeStrategy)\n// {\n//   option_one: 0,\n//   option_two: 'blue',\n//   option_three: '',\n// }\n")))}h.isMDXComponent=!0},94:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return b}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),p=function(e){var n=r.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=p(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(t),m=a,b=u["".concat(c,".").concat(m)]||u[m]||f[m]||o;return t?r.a.createElement(b,i(i({ref:n},s),{},{components:t})):r.a.createElement(b,i({ref:n},s))}));function b(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,c=new Array(o);c[0]=m;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var s=2;s<o;s++)c[s]=t[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},96:function(e,n,t){"use strict";function a(e){var n,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}n.a=function(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(r&&(r+=" "),r+=n);return r}}}]);